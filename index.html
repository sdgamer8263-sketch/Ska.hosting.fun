<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SKA HOSTING</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial}
body{background:#000;color:#0ff}

/* BACKGROUND */
.bg{
 position:fixed;inset:0;
 background:
 linear-gradient(rgba(0,0,0,.85),rgba(0,0,0,.85)),
 url("fx58j1opheu71.gif") center/cover fixed;
 z-index:-1;
}

/* CLICK */
.click{transition:.2s}
.click:active{transform:scale(.9)}

/* HEADER */
header{
 display:flex;
 align-items:center;
 gap:10px;
 padding:10px
}
header img{width:42px}
header h2{flex:1;font-size:18px}

/* SMALL LOGOUT */
#logoutBtn{
 font-size:10px;
 padding:4px 8px;
 border-radius:10px;
 background:rgba(0,255,255,.2);
 border:none;
 cursor:pointer
}

/* CENTER */
.center{text-align:center;padding:20px}
#typing{font-size:24px;margin:25px}

/* BUTTON */
.btn{
 background:#0ff;color:#000;
 padding:14px 24px;
 border-radius:22px;
 display:inline-block;
 margin:10px;
 font-weight:bold;
 cursor:pointer
}

/* PAGE */
.page{
 display:none;
 max-width:720px;
 margin:30px auto;
 padding:30px;
 background:rgba(0,0,0,.65);
 border-radius:30px;
 box-shadow:0 0 40px #0ff;
 position:relative
}
.back{
 position:absolute;
 top:15px;right:15px;
 padding:10px 18px;
 border-radius:20px;
 background:rgba(0,255,255,.25);
 cursor:pointer
}

/* FORM */
input,select,button{
 width:100%;
 padding:14px;
 margin:10px 0;
 border:none;border-radius:16px
}
input,select{background:#111;color:#0ff}
button{background:#0ff;color:#000;font-weight:bold}

/* RESULT */
.statusBox{
 margin-top:20px;
 padding:26px;
 border-radius:26px;
 background:rgba(0,0,0,.6);
 text-align:center
}
.good{color:#0f0;font-weight:bold}
.bad{color:#f33;font-weight:bold}

/* GRAPH */
#pingGraph{
 width:100%;
 height:140px;
 margin-top:20px;
 border-radius:20px;
 background:rgba(0,0,0,.4);
 box-shadow:0 0 20px #0ff;
}

/* LOGIN */
#loginScreen{
 position:fixed;inset:0;
 background:#000;
 display:flex;
 align-items:center;
 justify-content:center;
 z-index:999
}
#loginBox{
 width:320px;
 padding:28px;
 background:rgba(0,0,0,.7);
 border-radius:26px;
 box-shadow:0 0 40px #0ff;
 text-align:center
}
.switch{font-size:13px;margin-top:10px;cursor:pointer}

/* FOOTER */
footer{
 text-align:center;
 padding:20px;
 margin-top:40px
}
</style>
</head>

<body>
<div class="bg"></div>

<!-- LOGIN -->
<div id="loginScreen">
 <div id="loginBox">
  <h3 id="authTitle">Login</h3>
  <input id="authUser" placeholder="Username">
  <input id="authPass" type="password" placeholder="Password">
  <button class="click" onclick="auth()">Login</button>
  <div id="msg"></div>
  <div class="switch" onclick="toggle()">New user? Register</div>
 </div>
</div>

<header>
 <img src="file_00000000387071faa7c92db633a8f726.png">
 <h2>SKA HOSTING</h2>
 <button id="logoutBtn" onclick="logout()">‚éã</button>
</header>

<div class="center" id="home">
 <div id="typing"></div>

 <div class="btn click" data-lock onclick="openHidden('https://dash.sgaming9107.qzz.io')">
  üü¢ Free Dashboard
 </div>

 <div class="btn click" data-lock onclick="openHidden('https://dash2.sgaming9107.qzz.io')">
  üëë Premium Dashboard
 </div>

 <div class="btn click" data-lock onclick="showPage('tools')">
  üß∞ Server Tool
 </div>

 <div id="adminBtn" class="btn click" style="display:none" onclick="showPage('admin')">
  üëë Admin Panel
 </div>
</div>

<!-- SERVER TOOLS -->
<div class="page" id="tools">
 <div class="back click" onclick="goHome()">‚¨Ö</div>
 <h2 style="text-align:center">Server Tools</h2>

 <div class="btn click" data-lock onclick="showPage('status')">üåê Server Status</div>
 <div class="btn click" data-lock onclick="showPage('ping')">üì° Server Ping</div>
 <div class="btn click" data-lock onclick="showPage('paper')">üìÑ Paper Build Number</div>
</div>

<!-- SERVER STATUS -->
<div class="page" id="status">
 <div class="back click" onclick="showPage('tools')">‚¨Ö</div>
 <h2 style="text-align:center">Server Status</h2>

 <input id="sip" placeholder="Server IP">
 <input id="sport" placeholder="Port">
 <select>
  <option>Java</option>
  <option>Bedrock</option>
  <option>Geyser</option>
 </select>

 <button class="click" onclick="checkStatus()">Check</button>
 <div class="statusBox" id="statusResult"></div>
</div>

<!-- SERVER PING -->
<div class="page" id="ping">
 <div class="back click" onclick="showPage('tools')">‚¨Ö</div>
 <h2 style="text-align:center">Server Ping</h2>

 <input id="pip" placeholder="Server IP">
 <input id="pport" placeholder="Port">
 <select>
  <option>Java</option>
  <option>Bedrock</option>
  <option>Geyser</option>
 </select>

 <button class="click" onclick="checkPing()">Check</button>
 <div class="statusBox" id="pingResult"></div>
 <canvas id="pingGraph"></canvas>
</div>

<!-- PAPER -->
<div class="page" id="paper">
 <div class="back click" onclick="showPage('tools')">‚¨Ö</div>
 <h2 style="text-align:center">Paper Build Number</h2>
 <input id="ver" placeholder="Version (1.20.4)">
 <button class="click" onclick="paper()">Check</button>
 <div class="statusBox" id="paperResult"></div>
</div>

<!-- ADMIN -->
<div class="page" id="admin">
 <div class="back click" onclick="goHome()">‚¨Ö</div>
 <h2 style="text-align:center">Admin Panel</h2>
 <label>
  <input type="checkbox" onchange="toggleLock(this.checked)">
  Enable Global Lock
 </label>
</div>

<footer>
 <div id="footerText"></div>
</footer>

<script>
/* ADMIN */
const ADMIN_USER="skahosting";
const ADMIN_PASS="Z62BGma)qTi!Szs";

/* LOGIN */
let users=JSON.parse(localStorage.getItem("users"))||{};
let reg=false;

function toggle(){
 reg=!reg;
 authTitle.innerText=reg?"Register":"Login";
}

function auth(){
 let u=authUser.value.trim(),p=authPass.value;
 if(reg){
  users[u]={pass:p};
  localStorage.setItem("users",JSON.stringify(users));
  msg.innerText="Registered!";
  toggle();return;
 }
 if(u===ADMIN_USER && p===ADMIN_PASS){
  sessionStorage.setItem("role","admin");
  loginScreen.style.display="none";
  adminBtn.style.display="inline-block";
  return;
 }
 if(!users[u]||users[u].pass!==p){msg.innerText="Wrong login";return}
 sessionStorage.setItem("role","user");
 loginScreen.style.display="none";
}

function logout(){sessionStorage.clear();location.reload()}

window.onload=()=>{
 if(localStorage.getItem("lock")==="on"){sessionStorage.clear()}
 if(!sessionStorage.getItem("role")) loginScreen.style.display="flex";
 if(sessionStorage.getItem("role")==="admin") adminBtn.style.display="inline-block";
}

/* LOCK */
function toggleLock(v){
 localStorage.setItem("lock",v?"on":"off");
 if(v){sessionStorage.clear();location.reload()}
}
function locked(){
 return localStorage.getItem("lock")==="on";
}

/* NAV */
function showPage(p){
 if(locked()) return alert("üîí Locked by Admin");
 home.style.display="none";
 tools.style.display=status.style.display=ping.style.display=paper.style.display=admin.style.display="none";
 document.getElementById(p).style.display="block";
}
function goHome(){
 tools.style.display=status.style.display=ping.style.display=paper.style.display=admin.style.display="none";
 home.style.display="block";
}
function openHidden(u){
 if(locked()) return alert("üîí Locked by Admin");
 window.open(u,"_blank");
}

/* TYPING */
let t="WELCOME TO SKA HOSTING",i=0;
(function type(){
 typing.innerText=t.slice(0,i++);
 if(i<=t.length)setTimeout(type,120);
})();
let ft="Fast ‚Ä¢ Secure ‚Ä¢ No Lag ‚Ä¢ 24/7 Uptime";
function footerType(){
 let i=0;
 let iv=setInterval(()=>{
  footerText.innerText=ft.slice(0,i++);
  if(i>ft.length) clearInterval(iv);
 },80);
}
footerType();
setInterval(footerType,180000);

/* STATUS */
function checkStatus(){
 fetch(`https://api.mcsrvstat.us/2/${sip.value}:${sport.value||25565}`)
 .then(r=>r.json()).then(d=>{
  if(!d.online){
   statusResult.innerHTML="<div class='bad'>OFFLINE</div>";
   return;
  }
  statusResult.innerHTML=`
   <div class='good'>ONLINE</div><br>
   ${d.hostname||"Unknown"}<br>
   Players: ${d.players.online}/${d.players.max}
  `;
 });
}

/* PING */
let pings=[],pt=null;
function checkPing(){
 clearInterval(pt);
 pings=[];
 pt=setInterval(()=>{
  const t0=performance.now();
  fetch(`https://api.mcsrvstat.us/2/${pip.value}:${pport.value||25565}`)
  .then(r=>r.json()).then(d=>{
   if(!d.online)return;
   pings.push(performance.now()-t0);
   if(pings.length>20)pings.shift();
   draw();
  });
 },5000);
}
function draw(){
 const c=pingGraph,ctx=c.getContext("2d");
 c.width=c.offsetWidth;
 ctx.clearRect(0,0,c.width,c.height);
 ctx.beginPath();
 ctx.strokeStyle="#0ff";
 pings.forEach((p,i)=>{
  const x=i*(c.width/(pings.length-1||1));
  const y=c.height-(p/Math.max(...pings))*c.height;
  i?ctx.lineTo(x,y):ctx.moveTo(x,y);
 });
 ctx.stroke();
}

/* PAPER */
const paperMap={"1.20.4":499,"1.20.2":318,"1.19.4":550};
function paper(){
 paperResult.innerHTML=paperMap[ver.value]?
  `## ${paperMap[ver.value]}`:"Not found";
}
</script>
</body>
</html>
